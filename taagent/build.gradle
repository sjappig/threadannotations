dependencies {
    compile     project(':taif'),
                'org.ow2.asm:asm:5.0.+'
    testCompile 'junit:junit:4.12'
}

jar {
    manifest {
        attributes 'Premain-Class': 'io.threadannotations.TAAgent'
    }
    doFirst {
        from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}

publishing {
    publications {
        TAAgentPublication(MavenPublication) {
            from components.java
            groupId 'io.threadannotations'
            artifactId 'threadannotations-agent'
            version "$project.version"
        }
    }
}

bintray {
    publications = ['TAAgentPublication']
}
